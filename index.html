<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –ë–ø–õ–ê</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
    
    <script src="supabaseClient.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="loginBox" class="login-box">
    <h2>–í—Ö—ñ–¥ —É —Å–∏—Å—Ç–µ–º—É</h2>
    <input id="emailInput" type="email" placeholder="Email">
    <input id="passwordInput" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="login()" class="primary-btn">–£–≤—ñ–π—Ç–∏</button>
    <div id="status"></div>
</div>

<div id="app" class="hidden">
    
    <nav class="top-navbar">
        <div class="nav-brand">ü¶Ö <span>–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ë–ø–õ–ê</span></div>
        <div class="nav-links">
            <a href="index.html" class="active">–ì–æ–ª–æ–≤–Ω–∞</a>
			<a href="stats.html">–ù–∞–ø—Ä—è–º–∫–∏</a>
			<a href="crews.html">–ï–∫—ñ–ø–∞–∂—ñ</a>
			<a href="video.html">–í—ñ–¥–µ–æ—á–∞—Å—Ç–æ—Ç–∏</a>
			<a href="report.html">–ó–≤—ñ—Ç</a>
			<a href="chart.html">–ì—Ä–∞—Ñ—ñ–∫–∏</a>
            <button class="nav-btn" onclick="openShiftModal()">üìä –ó–º—ñ–Ω–∏</button>
        </div>
        <button class="logout-btn" onclick="logout()">–í–∏—Ö—ñ–¥ üö™</button>
    </nav>

    <div class="last-records-header">
        <h3>–ö—Ä–∞–π–Ω—ñ 100 –∑–∞–ø–∏—Å—ñ–≤ –ø—Ä–æ–ª—å–æ—Ç—ñ–≤</h3>
    </div>

    <div class="table-scroll-container">
        <table id="last10"></table>
    </div>
    <hr>

    <div class="main-workspace">
        
        <div class="workspace-item">
            <h3 class="block-title">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –ø—Ä–æ–ª—ñ—Ç</h3>
            <p id="accessMessage" class="access-message hidden"></p>
            <div class="card-block form-container">
                <div id="addForm">
                    <div class="datetime-row">
                        <input type="date" id="f_date" title="–î–∞—Ç–∞">
                        <input type="time" id="f_time" title="–ß–∞—Å">
                    </div>
                    <div class="select-row">
                        <select id="f_from"></select>
                        <button type="button" class="add-btn" data-table="locations" data-select="f_from">‚ãØ</button>
                    </div>
                    <div class="select-row">
                        <select id="f_to"></select>
                        <button type="button" class="add-btn" data-table="locations" data-select="f_to">‚ãØ</button>
                    </div>
                    <div class="select-row">
                        <select id="f_crew"></select>
                        <button type="button" class="add-btn" data-table="crews" data-select="f_crew">‚ãØ</button>
                    </div>
                    <input id="f_video" placeholder="–í—ñ–¥–µ–æ (ID –∞–±–æ –ü–æ—Å–∏–ª–∞–Ω–Ω—è)">
                    <div class="select-row">
                        <select id="f_action"></select>
                        <button type="button" class="add-btn" data-table="actions" data-select="f_action">‚ãØ</button>
                    </div>
                    <button class="submit-btn" onclick="addFlight()">–î–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å</button>
                </div>
            </div>
        </div>

        <div class="workspace-item">
            <h3 class="block-title">–ë–ø–õ–ê —Ç–∏–ø—É –ú–û–õ–ù–Ü–Ø</h3>
            <div class="card-block molniya-report" data-active-period="day">
                <div class="period-buttons">
                    <button data-period="all">–í–µ—Å—å</button>
                    <button data-period="month">–ú—ñ—Å—è—Ü—å</button>
                    <button data-period="week">–¢–∏–∂–¥–µ–Ω—å</button>
                    <button data-period="day" class="active">–î–æ–±–∞</button>
                </div>
                <div class="period-label">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
                <table class="report-table">
                    <thead><tr><th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th><th>–ö-—Å—Ç—å</th><th>%</th></tr></thead>
                    <tbody>
                        <tr><td>–í–∏—è–≤–ª–µ–Ω–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ó–±–∏—Ç–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ü–æ–¥–∞–≤–ª–µ–Ω–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ó–Ω–∏–∫</td><td>0</td><td>0%</td></tr>
                        <tr><td>–£–¥–∞—Ä</td><td>0</td><td>0%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="workspace-item">
            <h3 class="block-title">–ë–ø–õ–ê —Ç–∏–ø—É –§–ü–í</h3>
            <div class="card-block fpv-report" data-active-period="day">
                <div class="period-buttons">
                    <button data-period="all">–í–µ—Å—å</button>
                    <button data-period="month">–ú—ñ—Å—è—Ü—å</button>
                    <button data-period="week">–¢–∏–∂–¥–µ–Ω—å</button>
                    <button data-period="day" class="active">–î–æ–±–∞</button>
                </div>
                <div class="period-label">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
                <table class="report-table">
                    <thead><tr><th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th><th>–ö-—Å—Ç—å</th><th>%</th></tr></thead>
                    <tbody>
                        <tr><td>–í–∏—è–≤–ª–µ–Ω–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ó–±–∏—Ç–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ü–æ–¥–∞–≤–ª–µ–Ω–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ó–Ω–∏–∫</td><td>0</td><td>0%</td></tr>
                        <tr><td>–£–¥–∞—Ä</td><td>0</td><td>0%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="workspace-item">
            <h3 class="block-title">–ë–ø–õ–ê —Ç–∏–ø—É –û–ü–¢–ò–ö–ê</h3>
            <div class="card-block optics-report" data-active-period="day">
                <div class="period-buttons">
                    <button data-period="all">–í–µ—Å—å</button>
                    <button data-period="month">–ú—ñ—Å—è—Ü—å</button>
                    <button data-period="week">–¢–∏–∂–¥–µ–Ω—å</button>
                    <button data-period="day" class="active">–î–æ–±–∞</button>
                </div>
                <div class="period-label">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
                <table class="report-table">
                    <thead><tr><th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th><th>–ö-—Å—Ç—å</th><th>%</th></tr></thead>
                    <tbody>
                        <tr><td>–í–∏—è–≤–ª–µ–Ω–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ó–±–∏—Ç–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ü–æ–¥–∞–≤–ª–µ–Ω–æ</td><td>0</td><td>0%</td></tr>
                        <tr><td>–ó–Ω–∏–∫</td><td>0</td><td>0%</td></tr>
                        <tr><td>–£–¥–∞—Ä</td><td>0</td><td>0%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="addDialog" class="dialog hidden">
    <div class="dialog-box">
        <h3 id="dialogTitle">–î–æ–¥–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è</h3>
        <input id="dialogInput" placeholder="–ù–∞–∑–≤–∞...">
        <div class="dialog-actions">
            <button id="dialogOk" class="primary-btn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            <button id="dialogCancel" class="secondary-btn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
    </div>
</div>

<div id="shiftModal" class="dialog hidden">
    <div class="dialog-box wide">
        <h3 class="shift-title-box">‚öî –£ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑—ñ –∑–≤–µ–¥–µ–Ω–∏–º –∑–∞–≥–æ–Ω–æ–º –†–ï–ë ‚öî</h3>
        <div class="shift-container">
            <div id="shiftDayText"></div>
            <div id="shiftNightText"></div>
        </div>
        <div class="dialog-actions centered" style="margin-top: 20px;">
            <button class="secondary-btn" onclick="closeShiftModal()">–ó–∞–∫—Ä–∏—Ç–∏ –≤—ñ–∫–Ω–æ</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>