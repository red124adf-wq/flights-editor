<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ë–ø–õ–ê - Dashboard v2.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
	<script src="supabaseClient.js"></script>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body class="p-6">

    <div class="flex gap-2 mb-6" id="period-filters">
		<button data-period="day" class="period-btn px-4 py-1.5 bg-slate-800 rounded text-[10px] uppercase font-bold border border-slate-700 hover:bg-slate-700">–ó–≤—ñ—Ç –∑–∞ –¥–æ–±—É</button>
		<button data-period="week" class="period-btn px-4 py-1.5 bg-slate-800 rounded text-[10px] uppercase font-bold border border-slate-700 hover:bg-slate-700">–¢–∏–∂–¥–µ–Ω—å</button>
		<button data-period="month" class="period-btn px-4 py-1.5 bg-blue-600 text-white rounded text-[10px] uppercase font-bold shadow-lg shadow-blue-900/20">–ú—ñ—Å—è—Ü—å</button>
		<button data-period="all" class="period-btn px-4 py-1.5 bg-slate-800 rounded text-[10px] uppercase font-bold border border-slate-700 hover:bg-slate-700">–í—Å—ñ –¥–∞–Ω—ñ</button>
	</div>

    <div class="grid grid-cols-12 gap-6 items-stretch">
        
        <div class="col-span-9 flex flex-col gap-6">
            <div class="card p-6 flex flex-col flex-1">
                <h2 class="text-white text-xs font-bold uppercase mb-6 tracking-wider">–î–∏–Ω–∞–º—ñ–∫–∞ –ø—Ä–æ–ª—å–æ—Ç—ñ–≤ (–ú–û–õ–ù–Ü–Ø —Ç–∞ –§–ü–í)</h2>
                <div class="flex-1 relative min-h-[400px]">
                    <canvas id="mainChart"></canvas>
                </div>
                <div class="flex justify-center gap-8 mt-4 text-[10px] font-bold uppercase">
					<div id="legend-molniya" class="flex items-center gap-2 cursor-pointer select-none transition-opacity hover:opacity-80">
						<span class="w-3 h-3 rounded-full bg-pink-500"></span> –ú–æ–ª–Ω—ñ—è
					</div>
						<div id="legend-fpv" class="flex items-center gap-2 cursor-pointer select-none transition-opacity hover:opacity-80">
					<span class="w-3 h-3 rounded-full bg-sky-400"></span> –§–ü–í
					</div>
					</div>
			</div>

            <div class="grid grid-cols-3 gap-6">
                <div class="card overflow-hidden" id="stat-molniya">
                    <div class="p-3 border-b border-slate-800 flex items-center gap-2">
                        <span class="text-orange-500 text-xs">‚óè</span>
                        <span class="text-orange-500 font-bold text-[11px] uppercase">–ú–æ–ª–Ω—ñ—è</span>
                    </div>
                    <div class="stat-row"><span>–í–ò–Ø–í–õ–ï–ù–û</span><span class="text-white font-bold">361</span></div>
                    <div class="stat-row"><span>–ó–ë–ò–¢–û</span><span class="text-white font-bold">138</span></div>
                    <div class="stat-row"><span>–ü–û–î–ê–í–õ–ï–ù–û</span><span class="text-white font-bold">110</span></div>
                    <div class="stat-row"><span>–ó–ù–ò–ö</span><span class="text-white font-bold">34</span></div>
                    <div class="stat-row"><span>–£–î–ê–†</span><span class="text-white font-bold">78</span></div>
                </div>

                <div class="card overflow-hidden" id="stat-fpv">
                    <div class="p-3 border-b border-slate-800 flex items-center gap-2">
                        <span class="text-sky-400 text-xs">‚óè</span>
                        <span class="text-sky-400 font-bold text-[11px] uppercase">–§–ü–í</span>
                    </div>
                    <div class="stat-row"><span>–í–ò–Ø–í–õ–ï–ù–û</span><span class="text-white font-bold">616</span></div>
                    <div class="stat-row"><span>–ó–ë–ò–¢–û</span><span class="text-white font-bold">1</span></div>
                    <div class="stat-row"><span>–ü–û–î–ê–í–õ–ï–ù–û</span><span class="text-white font-bold">455</span></div>
                    <div class="stat-row"><span>–ó–ù–ò–ö</span><span class="text-white font-bold">38</span></div>
                    <div class="stat-row"><span>–£–î–ê–†</span><span class="text-white font-bold">117</span></div>
                </div>

                <div class="card overflow-hidden" id="stat-optics">
                    <div class="p-3 border-b border-slate-800 flex items-center gap-2">
                        <span class="text-green-500 text-xs">‚óè</span>
                        <span class="text-green-500 font-bold text-[11px] uppercase">–û–ø—Ç–∏–∫–∞</span>
                    </div>
                    <div class="stat-row"><span>–í–ò–Ø–í–õ–ï–ù–û</span><span class="text-white font-bold">23</span></div>
                    <div class="stat-row"><span>–ó–ë–ò–¢–û</span><span class="text-white font-bold">0</span></div>
                    <div class="stat-row"><span>–ü–û–î–ê–í–õ–ï–ù–û</span><span class="text-white font-bold">0</span></div>
                    <div class="stat-row"><span>–ó–ù–ò–ö</span><span class="text-white font-bold">0</span></div>
                    <div class="stat-row"><span>–£–î–ê–†</span><span class="text-white font-bold">2</span></div>
                </div>
            </div>
        </div>

        <div class="col-span-3 flex flex-col gap-6">
            <div class="card p-4">
                <h3 class="text-white text-[11px] font-bold uppercase mb-4 border-b border-slate-800 pb-2">üìç –¢–û–ü –ù–ê–ü–†–Ø–ú–ö–Ü–í</h3>
                <div class="mb-2">
                    <span class="text-pink-500 text-[9px] font-bold uppercase">–ú–æ–ª–Ω—ñ—è</span>
                    <div style="height: 140px;"><canvas id="molniyaDirChart"></canvas></div>
                </div>
                <div class="border-b border-slate-800 my-4"></div>
                <div>
                    <span class="text-sky-400 text-[9px] font-bold uppercase">–§–ü–í</span>
                    <div style="height: 140px;"><canvas id="fpvDirChart"></canvas></div>
                </div>
            </div>

            <div class="card p-4">
				<h3 class="text-white text-[11px] font-bold uppercase mb-4 border-b border-slate-800 pb-2">üèÜ –¢–û–ü-10 –ï–ö–Ü–ü–ê–ñ–Ü–í</h3>
				<div style="height: 300px;"> <canvas id="crewChart"></canvas>
				</div>
			</div>

            <div class="card p-4 flex-1">
                <h3 class="text-white text-[11px] font-bold uppercase mb-4 border-b border-slate-800 pb-2">üì∂ –¢–û–ü –í–Ü–î–ï–û–ß–ê–°–¢–û–¢</h3>
                <div class="mb-2">
                    <span class="text-pink-500 text-[9px] font-bold uppercase block mb-1">–ú–æ–ª–Ω—ñ—è</span>
                    <div style="height: 100px;"><canvas id="molniyaFreqChart"></canvas></div>
                </div>
                <div class="border-b border-slate-800 my-3"></div>
                <div>
                    <span class="text-sky-400 text-[9px] font-bold uppercase block mb-1">FPV</span>
                    <div style="height: 100px;"><canvas id="fpvFreqChart"></canvas></div>
                </div>
            </div>
        </div>
    </div>
    <script src="dashboard.js"></script>
</body>
</html>